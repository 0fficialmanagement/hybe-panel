<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="HYBE-CORP Subscription Validation - Securely access premium content and exclusive artist experiences.">
  <meta name="author" content="HYBE CORP">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="HYBE-CORP: Subscription Validation">
  <meta property="og:description" content="Validate your HYBE Corporation subscription to unlock premium content and connect with your favorite artists.">
  <meta property="og:image" content="https://logotyp.us/file/hybe.svg">
  <meta property="og:url" content="https://hybecorp-permitvalidator.vercel.app">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="HYBE-CORP: Subscription Validation">
  <meta name="twitter:description" content="Validate your HYBE Corporation subscription to unlock premium content and connect with your favorite artists.">
  <meta name="twitter:image" content="https://logotyp.us/file/hybe.svg">
  <title>HYBE-CORP: Subscription Validation</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Mono:wght@400&display=swap');

    :root {
      --primary-color: #1a365d;
      --secondary-color: #2d3748;
      --accent-color: #3182ce;
      --success-color: #38a169;
      --warning-color: #d69e2e;
      --error-color: #e53e3e;
      --background-gradient: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
      --card-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      --dark-bg: #1a202c;
      --dark-text: #e2e8f0;
      --gold-color: #ffd700;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--background-gradient);
      color: var(--secondary-color);
      line-height: 1.6;
      position: relative;
      transition: background 0.3s, color 0.3s;
      min-height: 100vh;
    }

    body.dark-mode {
      background: var(--dark-bg);
      color: var(--dark-text);
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.3;
    }

    .navbar {
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand img {
      height: 40px;
    }

    .container-main {
      max-width: 600px;
      margin: 80px auto;
      padding: 0 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: calc(100vh - 200px);
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      padding: 2.5rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .dark-mode .card {
      background: rgba(45, 55, 72, 0.95);
      border-color: rgba(255, 255, 255, 0.1);
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      border-radius: 16px 16px 0 0;
    }

    .form-control {
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 12px 16px;
      font-family: 'Roboto Mono', monospace;
      font-size: 1rem;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .dark-mode .form-control {
      background: #2d3748;
      color: var(--dark-text);
      border-color: #4a5568;
    }

    .form-control:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.2);
      outline: none;
    }

    .form-control.is-valid {
      border-color: var(--success-color);
      background: rgba(56, 161, 105, 0.1);
    }

    .form-control.is-invalid {
      border-color: var(--error-color);
      background: rgba(229, 62, 62, 0.1);
    }

    .form-text {
      font-size: 0.85rem;
      color: var(--secondary-color);
    }

    .dark-mode .form-text {
      color: var(--dark-text);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      padding: 12px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(49, 130, 206, 0.3);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-gold {
      background: linear-gradient(135deg, #daa520, var(--gold-color));
      color: #000;
    }

    .security-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(56, 161, 105, 0.1);
      color: var(--success-color);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .timer-container {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      background: rgba(255, 255, 255, 0.95);
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--accent-color);
      text-align: center;
    }

    .dark-mode .timer-container {
      background: rgba(45, 55, 72, 0.95);
    }

    .timer-unit {
      flex: 1;
    }

    .timer-value {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--primary-color);
    }

    .dark-mode .timer-value {
      color: var(--dark-text);
    }

    .timer-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      color: var(--secondary-color);
    }

    .dark-mode .timer-label {
      color: var(--dark-text);
    }

    .timer-static {
      background: rgba(255, 255, 255, 0.95);
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--accent-color);
      color: var(--primary-color);
      font-weight: 500;
      text-align: center;
    }

    .dark-mode .timer-static {
      background: rgba(45, 55, 72, 0.95);
      color: var(--dark-text);
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      animation: fadeInUp 0.3s ease-in-out;
    }

    footer {
      background: var(--primary-color);
      color: white;
      padding: 2rem 0;
      margin-top: 3rem;
    }

    .dark-mode footer {
      background: #2d3748;
    }

    footer a {
      color: #ffd700;
      text-decoration: none;
      transition: color 0.3s;
    }

    footer a:hover {
      color: var(--accent-color);
    }

    .social-links a {
      font-size: 1.5rem;
      margin: 0 10px;
    }

    .testimonial-section {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      padding: 2rem;
      margin-top: 2rem;
      text-align: center;
      width: 100%;
    }

    .dark-mode .testimonial-section {
      background: rgba(45, 55, 72, 0.95);
    }

    #dark-mode-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--accent-color);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .dark-mode #dark-mode-toggle {
      background: var(--dark-text);
      color: var(--dark-bg);
    }

    #dark-mode-toggle:hover {
      transform: scale(1.1);
    }

    .chat-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      cursor: pointer;
    }

    .dark-mode .chat-toggle {
      background: linear-gradient(135deg, #2d3748, #4a5568);
    }

    .chat-toggle i {
      font-size: 1.5rem;
    }

    .gold-badge {
      display: inline-block;
      background: linear-gradient(135deg, #daa520, var(--gold-color));
      color: #000;
      padding: 2px 10px;
      border-radius: 4px;
      font-weight: 600;
      margin-left: 5px;
    }

    @media (max-width: 768px) {
      .container-main {
        margin: 60px auto;
        padding: 0 15px;
      }

      .card {
        padding: 1.5rem;
      }

      .timer-container {
        flex-wrap: wrap;
        gap: 8px;
      }

      .timer-unit {
        flex: 0 0 48%;
      }

      h1 {
        font-size: 1.75rem !important;
      }
    }

    @media (max-width: 480px) {
      .container-main {
        margin: 50px auto;
      }
      
      .card {
        padding: 1.25rem;
      }
      
      .testimonial-section {
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <noscript>
    <div class="container-main text-center mt-4">
      <div class="alert alert-danger" role="alert">
        <h2>JavaScript Required</h2>
        <p>JavaScript is disabled in your browser. Please enable it to validate your subscription, or <a href="mailto:support@hybecorp.com" class="text-warning">contact support</a> for assistance.</p>
        <p>Check our <a href="https://help.x.com/en/using-x" class="text-warning">Help Center</a> for supported browsers.</p>
      </div>
    </div>
  </noscript>

  <div id="particles-js"></div>

  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src="https://logotyp.us/file/hybe.svg" alt="HYBE Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link text-white" href="mailto:support@hybecorp.com">Support</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="https://help.x.com/en/using-x">Help Center</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <button id="dark-mode-toggle" aria-label="Toggle dark mode">
    <i class="bi bi-moon-stars-fill"></i>
  </button>

  <button class="chat-toggle" aria-label="Open support chat">
    <i class="bi bi-chat-dots"></i>
  </button>

  <div class="container-main" data-aos="fade-up">
    <div class="card" data-aos="zoom-in" data-aos-delay="300">
      <div class="text-center mb-4">
        <div class="security-badge">
          <i class="bi bi-shield-check-fill"></i>
          <span>SSL Secured</span>
        </div>
      </div>
      <h1 class="text-center fw-bold mb-3" style="font-size: 2rem; color: var(--primary-color);">HYBE License Validation</h1>
      <p class="text-center mb-4 text-muted">Securely access your HYBE Corporation subscription services and exclusive artist content.</p>

      <form id="subscriptionForm" novalidate>
        <fieldset>
          <legend class="visually-hidden">Subscription Validation</legend>
          <div class="mb-4">
            <label for="codeInput" class="form-label fw-medium">Subscription ID</label>
            <input
              type="text"
              id="codeInput"
              class="form-control"
              placeholder="e.g., HYB123XYZ789"
              pattern="[A-Z0-9]{10,20}"
              title="Subscription ID must be 10-20 alphanumeric characters"
              required
              minlength="10"
              maxlength="20"
              autocomplete="off"
              spellcheck="false"
              aria-describedby="codeInputHelp"
            >
            <div id="codeInputHelp" class="form-text">
              <i class="bi bi-info-circle"></i> Your Subscription ID is case-sensitive and contains 10-20 characters.
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-100" id="validateBtn" aria-label="Validate Subscription ID">
            <span class="btn-text"><i class="bi bi-shield-check"></i> Validate Subscription</span>
            <span class="btn-loading d-none"><i class="bi bi-hourglass-split"></i> Processing...</span>
          </button>
        </fieldset>
      </form>

      <div class="text-center mt-3">
        <small class="text-muted">
          <i class="bi bi-lock-fill"></i> Your data is protected with enterprise-grade security.
        </small>
      </div>
      <div class="text-center mt-2">
        <small class="text-muted">
          <i class="bi bi-exclamation-triangle"></i> Some privacy extensions may interfere with validation. <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal" class="text-accent">Learn more</a>.
        </small>
      </div>
      <div class="mt-4">
        <details>
          <summary class="text-accent fw-medium" style="cursor: pointer;">
            <i class="bi bi-question-circle"></i> How to find your Subscription ID
          </summary>
          <div class="p-3 bg-light rounded-3 mt-2">
            <p class="mb-0">Your Subscription ID is a 10-20 character alphanumeric code found in your HYBE account email or dashboard (e.g., <strong>HYB123XYZ789</strong>). Contact <a href="mailto:support@hybecorp.com" class="text-accent">support@hybecorp.com</a> if you need help.</p>
          </div>
        </details>
      </div>
    </div>

    <div class="testimonial-section" data-aos="fade-up" data-aos-delay="500">
      <h3 class="fw-medium mb-3">What Our Fans Say</h3>
      <p class="text-muted">"HYBE's subscription service makes it so easy to stay connected with BTS and TXT! The validation process is quick and secure." – Sarah K., ARMY</p>
      <p class="text-muted mt-2">"The exclusive content and artist experiences are worth every penny. Validation was a breeze!" – James L., MOA</p>
    </div>
  </div>

  <!-- Privacy Modal -->
  <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="privacyModalLabel">Privacy Extensions</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Some privacy-related browser extensions may interfere with the validation process or chat functionality. If you encounter issues, try disabling extensions like ad blockers or privacy guards and refresh the page. For assistance, contact <a href="mailto:support@hybecorp.com" class="text-accent">support@hybecorp.com</a>.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="row text-center text-md-start">
        <div class="col-md-4 mb-3">
          <h6 class="fw-bold">HYBE Corporation</h6>
          <p class="small">Leading entertainment & technology for fans worldwide.</p>
          <div class="social-links">
            <a href="https://www.linkedin.com/company/hybe-corp/" target="_blank" rel="noopener"><i class="bi bi-linkedin"></i></a>
            <a href="https://twitter.com/HYBEOFFICIALtwt" target="_blank" rel="noopener"><i class="bi bi-twitter"></i></a>
            <a href="https://www.instagram.com/hybe.labels/" target="_blank" rel="noopener"><i class="bi bi-instagram"></i></a>
            <a href="https://www.facebook.com/HYBE.official" target="_blank" rel="noopener"><i class="bi bi-facebook"></i></a>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <h6 class="fw-bold">Support</h6>
          <p class="small"><a href="mailto:support@hybecorp.com">support@hybecorp.com</a></p>
          <p class="small">24/7 Customer Service</p>
        </div>
        <div class="col-md-4 mb-3">
          <h6 class="fw-bold">Security</h6>
          <p class="small"><i class="bi bi-shield-fill-check"></i> Enterprise-Grade Security</p>
          <p class="small"><i class="bi bi-patch-check-fill"></i> Verified by HYBE</p>
        </div>
      </div>
      <hr class="my-4" style="border-color: #4a5568;">
      <div class="d-flex justify-content-between align-items-center flex-wrap">
        <p class="small mb-0">© 2025 HYBE Corporation. All rights reserved.</p>
        <div class="small">
          <a href="#" class="me-3">Privacy Policy</a>
          <a href="#" class="me-3">Terms of Service</a>
          <a href="https://help.x.com/en/using-x">Help Center</a>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    // Initialize AOS for scroll animations
    AOS.init({
      duration: 800,
      once: true,
    });

    // Initialize particles.js with fixed configuration
    particlesJS("particles-js", {
      particles: {
        number: { 
          value: 50, 
          density: { 
            enable: true, 
            value_area: 1000 
          } 
        },
        color: {
          value: "#3182ce"
        },
        shape: { 
          type: "circle" 
        },
        opacity: { 
          value: 0.3, 
          random: true, 
          anim: { 
            enable: true, 
            speed: 0.5, 
            opacity_min: 0 
          } 
        },
        size: { 
          value: 3, 
          random: true 
        },
        line_linked: { 
          enable: true, 
          distance: 150, 
          color: "#3182ce", 
          opacity: 0.3, 
          width: 1 
        },
        move: {
          enable: true,
          speed: 2,
          direction: "none",
          random: true,
          straight: false,
          out_mode: "out",
          bounce: false
        }
      },
      interactivity: {
        detect_on: "canvas",
        events: {
          onhover: { 
            enable: true, 
            mode: "repulse" 
          },
          onclick: { 
            enable: true, 
            mode: "push" 
          }
        },
        modes: {
          repulse: {
            distance: 100,
            duration: 0.4
          },
          push: {
            particles_nb: 4
          }
        }
      },
      retina_detect: true
    });

    // Dark mode toggle
    document.getElementById('dark-mode-toggle').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const icon = document.querySelector('#dark-mode-toggle i');
      icon.classList.toggle('bi-moon-stars-fill');
      icon.classList.toggle('bi-sun-fill');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    });

    // Load dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      document.querySelector('#dark-mode-toggle i').classList.replace('bi-moon-stars-fill', 'bi-sun-fill');
    }

    // Form validation
    document.getElementById('subscriptionForm').addEventListener('submit', validateSubscription);
    
    async function validateSubscription(event) {
      event.preventDefault();
      const subscriptionId = document.getElementById("codeInput").value.trim();
      const submitBtn = document.getElementById("validateBtn");

      if (!subscriptionId) {
        showErrorAlert('Required Field', 'Please enter your subscription ID to continue.');
        return;
      }

      const validPattern = /^[A-Z0-9]{10,20}$/;
      if (!validPattern.test(subscriptionId)) {
        showErrorAlert('Invalid Format', 'Subscription ID must contain 10-20 uppercase alphanumeric characters.');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.querySelector('.btn-text').classList.add('d-none');
      submitBtn.querySelector('.btn-loading').classList.remove('d-none');

      showProgressLoader();

      // Simulate API call with timeout
      setTimeout(() => {
        try {
          // Simulated response data
          const result = {
            success: true,
            Full_name: "Kim Ji-soo",
            Status: "Active",
            Activation_Date: "2025-06-15T00:00:00Z",
            Expiration_Date: "2025-12-31T23:59:59Z",
            Current_ID_Level: "Standard",
            HYBE_Chat_License_info: "Not Active",
            HYBE_GOLDEN_Upgrade_fee: "$49.99",
            support_reference: "REF-20250707-001"
          };

          if (result.success) {
            const expirationDate = new Date(result.Expiration_Date);
            const staticExpiration = expirationDate.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric',
              hour: 'numeric',
              minute: 'numeric',
              second: 'numeric',
            });

            Swal.fire({
              icon: 'success',
              title: 'Subscription ID Validated',
              html: `
                <div style="text-align: left; max-width: 500px; margin: 0 auto;">
                  <div class="bg-light p-3 rounded-3 mb-3">
                    <h5 class="text-primary mb-3"><i class="bi bi-person-circle"></i> Account Information</h5>
                    <p><strong>Full Name:</strong> ${result.Full_name || "N/A"}</p>
                    <p><strong>Status:</strong> ${result.Status || "N/A"}</p>
                    <p><strong>Activation:</strong> ${new Date(result.Activation_Date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) || "N/A"}</p>
                    <p><strong>Upgrade Due By:</strong> ${staticExpiration || "N/A"}</p>
                  </div>
                  <div class="bg-warning-subtle p-3 rounded-3 border-start border-4 border-warning">
                    <h5 class="text-warning mb-3"><i class="bi bi-exclamation-triangle-fill"></i> Upgrade Required</h5>
                    <p><strong>Current Level:</strong> ${result.Current_ID_Level || "N/A"}</p>
                    <p><strong>License Status:</strong> ${result.HYBE_Chat_License_info || "N/A"}</p>
                    <p><strong>Upgrade Fee:</strong> ${result.HYBE_GOLDEN_Upgrade_fee || "N/A"}</p>
                  </div>
                  <div class="timer-container mt-3" id="countdown-timer" aria-live="polite">
                    <p class="small text-primary mb-2"><i class="bi bi-clock-fill"></i> Time to upgrade to <span class="gold-badge">HYBE-GOLDEN</span>:</p>
                    <div class="timer-unit">
                      <span class="timer-value" id="days">0</span>
                      <span class="timer-label">Days</span>
                    </div>
                    <div class="timer-unit">
                      <span class="timer-value" id="hours">0</span>
                      <span class="timer-label">Hours</span>
                    </div>
                    <div class="timer-unit">
                      <span class="timer-value" id="minutes">0</span>
                      <span class="timer-label">Minutes</span>
                    </div>
                    <div class="timer-unit">
                      <span class="timer-value" id="seconds">0</span>
                      <span class="timer-label">Seconds</span>
                    </div>
                  </div>
                  <div class="bg-info-subtle p-3 rounded-3 mt-3">
                    <p class="small text-info mb-0"><i class="bi bi-info-circle-fill"></i> Your subscription ID has been validated. Upgrade to HYBE-GOLDEN within 30 days to access premium features. Contact our support team for assistance.</p>
                  </div>
                </div>
              `,
              width: 600,
              confirmButtonText: 'Contact Support',
              confirmButtonColor: '#1a365d',
              showCancelButton: true,
              cancelButtonText: 'Close',
              footer: `<small>Support Reference: ${result.support_reference || 'N/A'}</small>`
            }).then((result) => {
              if (result.isConfirmed) {
                document.querySelector('.chat-toggle').click(); // Open custom chat widget
              }
            });

            startCountdownTimer(expirationDate);
          } else {
            showErrorAlert(
              'Verification Failed',
              'Invalid subscription credentials. Please check your ID and try again.',
              result.support_reference ? `Support Reference: ${result.support_reference}` : null
            );
          }
        } catch (error) {
          console.error('Validation error:', error);
          showErrorAlert(
            'Connection Error',
            'Unable to connect to validation servers. Please check your connection and try again.'
          );
        } finally {
          submitBtn.disabled = false;
          submitBtn.querySelector('.btn-text').classList.remove('d-none');
          submitBtn.querySelector('.btn-loading').classList.add('d-none');
        }
      }, 2000);
    }

    function startCountdownTimer(expirationDate) {
      const daysEl = document.getElementById('days');
      const hoursEl = document.getElementById('hours');
      const minutesEl = document.getElementById('minutes');
      const secondsEl = document.getElementById('seconds');

      let prevDays = null, prevHours = null, prevMinutes = null, prevSeconds = null;

      function updateTimer() {
        const now = new Date();
        const timeLeft = expirationDate - now;

        if (timeLeft <= 0) {
          daysEl.textContent = '0';
          hoursEl.textContent = '0';
          minutesEl.textContent = '0';
          secondsEl.textContent = '0';
          return;
        }

        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        if (days !== prevDays) {
          daysEl.textContent = days;
          daysEl.classList.add('animate');
          setTimeout(() => daysEl.classList.remove('animate'), 300);
          prevDays = days;
        }
        if (hours !== prevHours) {
          hoursEl.textContent = hours;
          hoursEl.classList.add('animate');
          setTimeout(() => hoursEl.classList.remove('animate'), 300);
          prevHours = hours;
        }
        if (minutes !== prevMinutes) {
          minutesEl.textContent = minutes;
          minutesEl.classList.add('animate');
          setTimeout(() => minutesEl.classList.remove('animate'), 300);
          prevMinutes = minutes;
        }
        if (seconds !== prevSeconds) {
          secondsEl.textContent = seconds;
          secondsEl.classList.add('animate');
          setTimeout(() => secondsEl.classList.remove('animate'), 300);
          prevSeconds = seconds;
        }
      }

      updateTimer();
      const timerInterval = setInterval(updateTimer, 1000);

      document.addEventListener('click', (event) => {
        if (event.target.closest('.swal2-confirm') || event.target.closest('.swal2-cancel')) {
          clearInterval(timerInterval);
        }
      });
    }

    function showErrorAlert(title, message, footer = null) {
      Swal.fire({
        icon: 'error',
        title: title,
        text: message,
        confirmButtonColor: '#e53e3e',
        footer: footer
      });
    }

    function showProgressLoader() {
      let progress = 0;
      Swal.fire({
        title: 'Validating ID...',
        html: `
          <div id="progressText" class="mb-2">Validating: <b>0%</b></div>
          <div class="progress">
            <div id="progressFill" class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        `,
        allowOutsideClick: false,
        showConfirmButton: false,
        didOpen: () => {
          const progressText = document.getElementById('progressText');
          const progressFill = document.getElementById('progressFill');
          const interval = setInterval(() => {
            if (progress < 100) {
              progress += 2;
              progressText.innerHTML = `Validating: <b>${progress}%</b>`;
              progressFill.style.width = `${progress}%`;
              progressFill.setAttribute('aria-valuenow', progress);
            } else {
              clearInterval(interval);
            }
          }, 50);
        },
      });
    }

    // Input validation and formatting
    document.getElementById('codeInput').addEventListener('input', function(e) {
      this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
      const isValid = /^[A-Z0-9]{10,20}$/.test(this.value);
      this.classList.toggle('is-valid', isValid && this.value.length >= 10);
      this.classList.toggle('is-invalid', this.value.length > 0 && !isValid);
    });

    // Chat toggle functionality
    document.querySelector('.chat-toggle').addEventListener('click', function() {
      Swal.fire({
        title: 'HYBE Support Chat',
        html: `
          <div class="text-center p-3">
            <div class="mb-3">
              <i class="bi bi-chat-dots" style="font-size: 3rem; color: var(--accent-color);"></i>
            </div>
            <p>Our support team is ready to assist you with your subscription.</p>
            <a href="mailto:support@hybecorp.com" class="btn btn-primary mt-2">
              <i class="bi bi-envelope"></i> Email Support
            </a>
          </div>
        `,
        showConfirmButton: false,
        showCloseButton: true
      });
    });
  </script>
</body>
</html>